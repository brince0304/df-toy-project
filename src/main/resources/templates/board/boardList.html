<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet"/>
    <link href="/css/searchForm.css" rel="stylesheet"/>
    <link href="/Login/assets/css/bootstrap.css" rel="stylesheet"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="/Login/assets/css/login-register.css" rel="stylesheet"/>
    <link href="/Login/assets/css/main.css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/owl.carousel.min.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">

    <link rel="stylesheet" href="/header/fonts/icomoon/style.css">

    <link rel="stylesheet" href="/header/css/owl.carousel.min.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/header/css/bootstrap.min.css">
    <!-- Style -->
    <link rel="stylesheet" href="/header/css/style.css">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <script src="/Login/assets/js/jquery-1.10.2.js" type="text/javascript"></script>
    <script src="/Login/assets/js/bootstrap.js" type="text/javascript"></script>
    <script src="/Login/assets/js/login-register.js" type="text/javascript"></script>
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.3.1/css/all.css'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <title>던파모아 온오프</title>
    <style>@-ms-viewport {
        width: device-width;
    }

    @-o-viewport {
        width: device-width;
    }

    @viewport {
        width: device-width;
    }

    html {
        max-width: 100% !important;
        overflow-x: hidden !important;
    }

    body {
        min-height: 1000px;
        overflow-x: hidden !important;
        overflow-y: hidden !important;
    }

    @media (max-width: 360px) {
        body {
            width: 360px !important;
            position: absolute;
        }
    }

    @media (max-width: 992px) {
        .col-sm-0, .col-md-0 {
            display: none;
        }
    }

    @media (min-width: 993px) {
        .col-sm-0, .col-md-0 {
            display: block;
        }
    }

    .pagination-outer {
        text-align: center;
    }

    .pagination {
        font-family: 'Ubuntu', sans-serif;
        display: inline-flex;
        position: relative;
    }

    .pagination li a.page-link {
        color: #000;
        background: transparent;
        font-size: 20px;
        font-weight: 600;
        line-height: 39px;
        height: 40px;
        width: 40px;
        padding: 0;
        margin: 0 6px;
        border: none;
        border-radius: 0;
        position: relative;
        z-index: 1;
        transition: all 0.3s ease 0s;
    }

    .pagination li a.page-link:hover,
    .pagination li a.page-link:focus,
    .pagination li.active a.page-link:hover,
    .pagination li.active a.page-link {
        color: #fff;
        background: #08b8e0;
    }

    .pagination li a.page-link:before {
        content: '';
        background: linear-gradient(#029fbc, #08b8e0);
        height: 100%;
        width: 100%;
        border-radius: 50%;
        opacity: 0;
        position: absolute;
        left: 0;
        top: 0;
        z-index: -1;
        transition: all 0.3s ease 0s;
    }

    .pagination li:first-child a.page-link:before {
        background: linear-gradient(to right, #029fbc, #08b8e0);
    }

    .pagination li:last-child a.page-link:before {
        background: linear-gradient(to left, #029fbc, #08b8e0);
    }

    .pagination li a.page-link:hover:before,
    .pagination li a.page-link:focus:before,
    .pagination li.active a.page-link:hover:before,
    .pagination li.active a.page-link:before {
        opacity: 1;
        top: -50%;
    }

    .pagination li:first-child a.page-link:hover:before,
    .pagination li:first-child a.page-link:focus:before,
    .pagination li.active:first-child a.page-link:hover:before,
    .pagination li.active:first-child a.page-link:before {
        top: 0;
        left: -50%;
    }

    .pagination li:last-child a.page-link:hover:before,
    .pagination li:last-child a.page-link:focus:before,
    .pagination li.active:last-child a.page-link:hover:before,
    .pagination li.active:last-child a.page-link:before {
        top: 0;
        left: 50%;
    }

    @media only screen and (max-width: 480px) {
        .pagination {
            font-size: 0;
            display: inline-block;
        }

        .pagination li {
            display: inline-block;
            vertical-align: top;
            margin: 0 0 22px;
        }
    }

    .boardIcon {
        width: 25px;
        aspect-ratio: auto 25 / 25;
        height: 25px;
        overflow-clip-margin: content-box;
        overflow: clip;
        vertical-align: middle;
    }
    </style>
</head>
<body>
<header id="header">
    헤더
</header>
<div class="container" style="margin-top:120px">
    <div class="row ">
        <div class="col-12">
            <div class="card card-margin">
                <div class="card-body">
                    <div class="row search-body">
                        <div class="col-lg-12">
                            <div class="search-result">
                                <div class="result-body">
                                    <div style="padding: 5px; width: 100%; line-height: 2; background-color: white; border-bottom: 10px solid #e6e6e6; border-top: 10px solid #e6e6e6;">

                                        <div class="notice_detail" data-id="1"
                                             style="padding-left: 8px; cursor: pointer;">
                                    <span th:if="${boardType!=null && boardType!= boardType.NOTICE}" style="font-size: 20px; font-weight: 400; color: #202020; line-height: 1;"><a
                                            th:href="@{'/board.df?boardType=NOTICE'}"
                                            style="text-decoration-line: none">공지사항 바로가기</a><i
                                            class="fas fa-chevron-right" style="padding-left: 8px;"></i></span>
                                            <span th:if="${boardType!=null && boardType== boardType.NOTICE}" style="font-size: 20px; font-weight: 400; color: #202020; line-height: 1;">공지사항</span>
                                            <span th:if="${boardType==null}" style="font-size: 20px; font-weight: 400; color: #202020; line-height: 1;"><a
                                                    th:href="@{'/board.df?boardType=NOTICE'}"
                                                    style="text-decoration-line: none">공지사항 바로가기</a><i
                                                    class="fas fa-chevron-right" style="padding-left: 8px;"></i></span>
                                            <div class="dropdown custom-dropdown" style="display: inline;   float: right;">

                                                <a href="#" data-toggle="dropdown"
                                                   class="align-items-center dropdown-link " aria-haspopup="true"
                                                   aria-expanded="false" data-offset="-70, 20" style="text-decoration-line: none">
                                                    게시판
                                                    <span class="arrow icon-keyboard_arrow_down"></span>
                                                </a>
                                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                                    <a class="dropdown-item" th:href="@{'/board.df?boardType=NOTICE'}"> <span
                                                            class="icon icon-mail_outline"></span> 공지사항</a>
                                                    <a class="dropdown-item" th:href="@{'/board.df?boardType=FREE'}"><span
                                                            class="icon icon-chat"></span> 자유게시판</a>
                                                    <a class="dropdown-item" th:href="@{'/board.df?boardType=RECRUITMENT'}"><span
                                                            class="icon icon-people"></span> 구인게시판</a>
                                                    <a class="dropdown-item" th:href="@{'/board.df?boardType=MARKET'}"><span
                                                            class="icon icon-money"></span> 거래게시판</a>
                                                    <a class="dropdown-item" th:href="@{'/board.df?boardType=QUESTION'}"><span
                                                            class="icon icon-question"></span> 질문답변</a>
                                                </div>
                                            </div>
                                        </div>
                                        </div>

                                    </div>

                                    <div style="width:100%; padding-right:10px;padding-left:10px;">

                                        <div th:each="board : ${articles}">
                                            <div class="row item" data-id="72621" style="cursor: pointer;">
                                                <div class="contents"
                                                     style="padding: 20px; width: 100%; line-height: 2;">
                                                    <span class="badge bg-dark text-white"
                                                          th:text="${board.getBoardType(board.getBoardType())}">자유게시판</span><br>
                                                    <div style="padding-top: 10px; padding-bottom:10px;">
                                                <span style="font-size: 24px; color: #202020; line-height: 1;"
                                                      th:utext="${board.boardTitle}">저 다음 이스핀즈 융합 컨설팅 해주실분...</span><br>
                                                    </div>

                                                </div>
                                                <div class=""
                                                     style="padding-left: 20px; padding-right:20px; padding-bottom:20px; width: 100%;">
                                                    <img class="boardIcon" src=""
                                                         style="border-radius: 50%; border: 1px solid #898989;"
                                                         width="25px"
                                                         height="25px"
                                                         th:src="@{/api/getFile.df(name=${board.getUserAccount().profileIcon().getFileName()})}"/>
                                                    <span style="padding-left: 10px; padding-right: 10px; color: #4C4C4C; font-size: 14px; font-weight: 600; padding-top: 2px;"
                                                          th:text="${board.getUserAccount().nickname()}">전재욱4WZ1B</span>
                                                </div>

                                                <div style="border-top: 1px solid #e6e6e6; padding: 20px; width: 100%;">
                                                    <a><i class="far fa-heart"
                                                          style="margin-left:10px; margin-right: 10px; color: #999999;"></i><span
                                                            style="font-size: 16px; color:#4C4C4C; font-weight: 500;"
                                                            th:text="${board.boardLikeCount}">0</span></a>
                                                    <a><i class="far fa-comment-alt"
                                                          style="margin-left:10px; margin-right: 10px; color: #999999;"></i><span
                                                            style="font-size: 16px; color:#4C4C4C; font-weight: 500;"
                                                            th:text="${board.getBoardComments().size()}">0</span></a>

                                                    <time class="timeago"
                                                          style="float: right; color: #4C4C4C; font-size: 16px;"
                                                          th:text="${board.createdAt}"></time>
                                                </div>

                                                <div class="bar"
                                                     style="width: 100%; height: 10px; background-color: #e6e6e6;"></div>

                                            </div>
                                        </div>
                                    </div>
                                    <nav class="pagination-outer" th:if="${!articles.isEmpty()}"
                                         aria-label="Page navigation">
                                        <ul class="pagination" th:with="start=${(articles.number/5)*5 + 1},
                    last=(${start + 4 < articles.totalPages ? start + 4 : articles.totalPages})">
                                            <li class="page-item" th:class="${articles.first} ? 'disabled'">
                                                <a th:href="${articles.first} ? '#' :@{/board.df(page=${0},searchType=${searchType},keyword=${keyword},boardType=${boardType})}"
                                                   class="page-link" aria-label="Previous">
                                                    <span aria-hidden="true">«</span>
                                                </a>
                                            </li>
                                            <li class="page-item" th:each="page: ${#numbers.sequence(start , last)}"
                                                th:class="${page == articles.number + 1} ? 'active'"><a
                                                    class="page-link" th:text="${page }"
                                                    th:href="@{/board.df(page=${page -1},searchType=${searchType},keyword=${keyword},boardType=${boardType})}">1</a>
                                            </li>
                                            <li class="page-item"
                                                th:class="${articles.totalPages == articles.number +1 } ? 'disabled'">
                                                <a href="#" class="page-link" aria-label="Next"
                                                   th:href="@{/board.df(page=${articles.number +1},searchType=${searchType},keyword=${keyword},boardType=${boardType})}">
                                                    <span aria-hidden="true">»</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>
    <footer id="footer">
        푸터
    </footer>
    <script src="/header/js/jquery.sticky.js"></script>
    <script src="/header/js/main.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.1.js"></script>
    <!-- Popper JS -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js'></script>
    <!-- Bootstrap JS -->
    <script src='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js'></script>
    <script src="/js/scriptfile.js"></script>
    <script src="/js/choices.js"></script>
    <script src="/js/owl.carousel.min.js"></script>

</body>
<script>
    function pic() {
        var bgm = ['/images/icon_char/bg_char.jpeg', '/images/icon_char/bg_char_02.png', '/images/icon_char/bg_char_03.png'];
        $('.characterCard').css({
            'background': 'url(' + bgm[Math.floor(Math.random() * bgm.length)] + ') no-repeat',
            'background-position': 'center',
            'background-size': 'cover'
        });
    }

    pic();
    const choices = new Choices('[data-trigger]',
        {
            searchEnabled: false,
            itemSelectText: '',
        });
    $(document).ready(function(){
        $('.timeago').each(function(){
            $(this).text(elapsedTime($(this).text()));
        });
    })
    function elapsedTime(date) {
        const start = new Date(date);
        const end = new Date(); // 현재 날짜

        const diff = (end - start) / 1000; // 경과 시간

        const times = [
            { name: '년', milliSeconds: 60 * 60 * 24 * 365 },
            { name: '개월', milliSeconds: 60 * 60 * 24 * 30 },
            { name: '일', milliSeconds: 60 * 60 * 24 },
            { name: '시간', milliSeconds: 60 * 60 },
            { name: '분', milliSeconds: 60 },
        ];

        // 년 단위부터 알맞는 단위 찾기
        for (const value of times) {
            const betweenTime = Math.floor(diff / value.milliSeconds);

            // 큰 단위는 0보다 작은 소수 단위 나옴
            if (betweenTime > 0) {
                return `${betweenTime}${value.name} 전`;
            }
        }

        // 모든 단위가 맞지 않을 시
        return "방금 전";
    }

    const change = (date) => {
        document.querySelector(".timeago").innerHTML = elapsedTime(date);
    }

    document.querySelector("input").setAttribute("max", new Date(+new Date() + 3240 * 10000).toISOString().split("T")[0])
</script>
</html>